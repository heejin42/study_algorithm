# 코드 리팩토링 
테스트가 불가능하거나 어려운 코드를 레거시 코드라고 하는데, 이러한 레거시 코드를 코드리뷰를 통해 점진적으로 개선해가는 것을 코드 리팩토링이라고 한다. 즉, 프로그램의 외부 동작은 그대로 유지하되, 내부의 코드를 정리하는 것이다.   
그럼 리팩토링이 가능한 코드는 어떤 코드일까?
- 중복 코드
- 긴 메소드
- 거대한 클래스
- switch 문, 조건문 단순화
- 절차지향으로 구현한 코드
- 그룹으로 묶을 수 있는 코드, 혹은 수식을 메소드로 변경
- 메소드나 클래스 등의 객체를 명확하게 구분하고 적절한 위치로 변경
- 캡슐화 기법으로 데이터 접근 관리

위의 리팩토링 대상 코드를 수정하기 위해서 먼저 코드 인스펙션이라는 절차가 필요하다.

### 코드 인스펙션(code inspection)
작성한 개발 소스 코드를 분석하여 개발 표준에 위배되엇거나 잘못 작성된 부분을 수정하는 작업을 말한다.
구체적인 과정은 다음과 같다.

1. Planning : 계획 수립
2. Overview : 교육과 역할 정의
3. Preparation : 인스펙션을 위한 인터뷰, 산출물, 도구 준비
4. Meeting : 검토 회의로 각자 역할을 맡아 임무 수행
5. Rework : 발견한 결함을 수정하고 재검토 필요한지 여부 결정
6. Fellow-up : 보고된 결함 및 이슈가 수정되었는지 확인하고 시정조치 이행

이렇게 인스펙션을 통해 아키텍처 관점으로 코드를 바라보고 → 디자인 패턴을 적용시키며 → 단계적으로 하위 기능에 대한 변경으로 진행한다.
이때, 의도하지 않은 기능 변경이나 버그 발생 대비해 회귀테스트 진행해야 하며, 이클립스와 같은 IDE 도구를 이용할 수 있다.
