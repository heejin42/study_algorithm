# 데이터 시각화 도구
## 수치형 데이터
수치형 데이터에는 실수 형태의 연속형 데이터(키, 몸무게 등)와 정수 형태의 이산형 데이터가 있다. 수치형 데이터는 데이터가 어떻게 분포되어 있는지를 확인하는 것이 중요하다. 

### 변수 1개 시각화
* 히스토그램: plt.hist()   
    수치형 값들을 구간 별로 나눠 그리는 빈도수 그래프로 matplotblib을 사용한다.    
    - data[col].hist() 또는 plt.hist(data[col])
    - bins=20 (구간의 수)
    - density=True  (비율로 변환)
    ```python
    plt.hist(nexflix_stock['Open'], bins=20)
    plt.show()
    ```
    ![img](./img/numeric-hist.png)    


* 분포도(히스토그램+커널밀도함수): sns.distplot()   
    seaborn(이하 sns)에서 제공하는 함수로 히스토그램과 커널밀도함수 그래프를 함께 그려주는 그래프다. 일반적으로 분포를 확인할 때 사용한다.
    - sns.displot(data[col], kde=True, hist=True)
    - kde의 디폴트 옵션은 True지만, False로 하면 히스토그램이 된다.
    - hist 또한 디폴트 옵션으로 False로 바꾸면 커널밀도함수 그래프가 된다.  
    ```python
    sns.displot(nexflix_stock['Open'], kde=True)
    plt.show()
    ```
    ![img](./img/numeric-displot.png)   `

* 박스플롯: sns.boxplot()   
    위의 2개 그래프들은 전체 분포 현황을 직관적으로 보여준다면, boxplot은 박수와 수염 모양으로 최소값, 최대값, Q1, Q2, Q3 등의 여러 정보를 알려준다.
    - sns.boxplot(data[col])
    - sns.boxplot(x = col, data = data)   
    ```python
    sns.boxplot(stock_prices["Open"])
    plt.show()
    ```
    ![img](./img/numeric-boxplot.png])

### 변수 2개 이상 시각화 (변수 간 관계 확인)
* 히트맵: 숫자 값의 변수 끼리는 상관 계수를 구할 수 있는데, 상관계수를 표현하는 데에 사용한다.    
    - 상관계수: -1에서 1사이의 값으로 변수 간의 상관성을 나타낸다. -1에 가까울수록 반비례, 1에 가까울수록 비례, 0에 가까울수록 상관성은 낮다고 볼 수 있다. 
    - data.corr()
    ```python
    print(nexflix_stock[["Open", "Close"]].corr())

                Open     Close
    Open   1.000000  0.999673
    Close  0.999673  1.000000
    ```
    - sns.heatmap(data.cor)
    ```python
    stock_cor = nexflix_stock[["Open", "Close"]].corr()
sns.heatmap(stock_cor)
    ```

* 라인플롯: 두 수치형 데이터 사이의 관계를 선으로 나타낸다. x값에 따른 y값의 평균 값들을 선으로 이어주기 때문에 x축에는 이산형(discrete) 데이터, y축에는 연속형(continuous) 데이터를 사용한다.   
    ```python
    sns.lineplot(x='Open', y="Close", data=nexflix_stock)
    plt.show()
    ```
    ![img](./img/numeric-lineplot.png)   
    - 중심선은 평균, 선 옆의 옅은 색은 95% 신뢰구간을 의미한다.   
    - x축과 y축 모두 연속형 데이터를 쓰면 선이 깔끔하게 그려지지 않는다. 만약 x축에 이산형 데이터를 쓴다면 다음과 같이 그려질 것이다. 여기서는 seaborn의 hue라는 기능을 사용해 범주형 데이터를 넣어 범주형 데이터에 따라 달라지는 지도 확인해보았다.   
    ![img](./img/numeric-lineplot-1.png)

* 산점도: 두 수치형 데이터 간의 관계를 점으로 나타내는 방법으로 주로 x, y축 모두 연속형 데이터를 넣을 때 사용한다.   
    - sns.scatterplot(x, y, hue(범주형), data)   
    ```python
    sns.scatterplot(x = 'High', y = 'Low', data=stock_prices, hue = "Industry_Tag")
    plt.show()
    ```
    ![img](./img/numeric-scatterplot.png)

* 회귀선 + 산점도 (regplot): 회귀선과 산점도를 동시에 그려주는 유용한 함수로 주로 x, y 모두 연속형 데이터일 때 자주 사용한다. 
    - sns.regplot(x, y, data, marker, ci)
    - ci: 신뢰구간 퍼센트
    - marker: 점의 모양을 지정할 수 있는 옵션
    ```python
    sns.regplot(x='High', y='Low', data=stock_prices, marker='+', ci=99)
    plt.show()
    ```
    ![img](./img/numeric-regplot.png)

## 범주형 데이터 - 명목형 데이터
범주형 데이터에는 순서가 있는 데이터가 있는 순서형 데이터가 있고 순서가 없는 명목형 데이터가 있다. 접하는 대부분의 범주형 데이터는 명목형 데이터이며 여기서는 명목형 데이터 시각화 도구를 다루겠다.

## 범주형 변수 1개 시각화

### 카운트플롯
캐테코리별 개수, 즉 변수의 분포를 파악할 때 사용한다.
- sns.countplot(x, data)
```python
sns.countplot(x="Country", data=stock_prices)
plt.show()
```
![img](./img/categorical-countplot.png)
- 거꾸로 그리고 싶다면 sns.countplot(y, data)
```python
sns.countplot(y='Country', data=stock_prices)
plt.show()
```
![img](./img/categorical-countplot-1.png)

### 파이 그래프
Pie chart는 비율값과 이에 해당하는 레이블 값이 주어지면 비율에 맞게 파이 모양으로 그려지는 형태다. 
- plt.pie(x, labels, autopct)
- x는 비율, labels는 범주형 데이터의 레이블 리스트. autopct는 비율 표현 형식 설정
- 먼저 비율과 레이블 값을 리스트로 만들어야 한다.
- 그 리스트를 가지고 파이를 그린다.
```python
new = pd.DataFrame(stock_prices['Country'].value_counts()/stock_prices['Country'].count())
new.reset_index(inplace=True)
plt.pie(x=list(new['Country']),
        labels = list(new['index']),
        autopct = "%.2f%%")
plt.show()
```
![img](./img/categorical-pie.png)

## 범주형 변수 2개 이상 시각화 (변수 간 관계 확인)
### Barplot
### Pointplot
### Boxplot
### Violinplot: Boxplot + kdeplot
